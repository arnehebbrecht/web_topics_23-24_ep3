(function(){"use strict";var e={3545:function(e,t,n){var i=n(5130),o=n(6768);const r={id:"app"};function a(e,t,n,i,a,s){const l=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.bF)(l)])}var s={name:"App"},l=n(1241);const c=(0,l.A)(s,[["render",a]]);var d=c,u=n(1387);const p={id:"app"};function h(e,t,n,i,r,a){const s=(0,o.g2)("LoadingAnimation"),l=(0,o.g2)("NavigationBar"),c=(0,o.g2)("MainPage");return(0,o.uX)(),(0,o.CE)("div",p,[r.isLoading?((0,o.uX)(),(0,o.Wv)(s,{key:0})):(0,o.Q3)("",!0),(0,o.bF)(l),r.isLoading?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(c,{key:1}))])}n(4603),n(7566),n(8721);const f={class:"navbar"},g={class:"nav-list"},m={class:"nav-item"},v={class:"nav-item"},k={class:"nav-item"};function b(e,t,n,r,a,s){return(0,o.uX)(),(0,o.CE)("nav",f,[(0,o.Lk)("ul",g,[(0,o.Lk)("li",m,[(0,o.Lk)("a",{href:"#",onClick:t[0]||(t[0]=(0,i.D$)((e=>r.navigateTo("/")),["prevent"]))},"Home")]),(0,o.Lk)("li",v,[(0,o.Lk)("a",{href:"#",onClick:t[1]||(t[1]=(0,i.D$)((e=>r.navigateTo("/Map")),["prevent"]))},"Map")]),(0,o.Lk)("li",k,[(0,o.Lk)("a",{href:"#",onClick:t[2]||(t[2]=(0,i.D$)((e=>r.navigateTo("/Blog")),["prevent"]))},"Blog")])])])}n(4114);var y={name:"NavigationBar",setup(){const e=(0,u.rd)(),t=t=>{e.push(t)};return{navigateTo:t}}};const L=(0,l.A)(y,[["render",b],["__scopeId","data-v-b30e74f0"]]);var w=L,C=n(4232);const x={class:"loading-container"},S={id:"loading-content"},A={ref:"initialText",class:"loading-text"},I={class:"letter-container"},M={ref:"uLetter",class:"letter"},E={ref:"sLetter",class:"letter"},T={key:0,class:"greeting-text"};function U(e,t,n,i,r,a){return(0,o.uX)(),(0,o.CE)("div",x,[(0,o.Lk)("div",S,[(0,o.Lk)("div",A,[(0,o.Lk)("div",I,[(0,o.Lk)("div",M,"U",512),(0,o.Lk)("div",E,"C",512)]),r.greeting?((0,o.uX)(),(0,o.CE)("div",T,(0,C.v_)(r.greeting),1)):(0,o.Q3)("",!0)],512)])])}var O=n(4968),F={name:"LoadingAnimation",data(){return{greeting:"",greetingInterval:null}},mounted(){this.startAnimation(),this.startGreetingUpdates()},beforeUnmount(){this.greetingInterval&&clearInterval(this.greetingInterval)},methods:{startAnimation(){console.log("Starting animation"),this.tl=O.os.timeline({repeat:-1,repeatDelay:1});const e=this.$refs.uLetter,t=this.$refs.sLetter;this.tl.to([e,t],{delay:.25,rotation:360,scale:1.5,duration:1,ease:"power2.inOut"}).to([e,t],{scale:1,duration:.5,ease:"power2.inOut"},"<").to(e,{x:-100,color:"#00ff00",duration:1,ease:"power2.inOut"}).to(t,{x:115,color:"#ff00ff",duration:1,ease:"power2.inOut"},"<").to([e,t],{x:0,z:0,color:"#ffffff",duration:1,ease:"power2.inOut"}).to(e,{rotation:180,duration:1,ease:"elastic"}).to(t,{rotation:-180,duration:1,ease:"elastic"},"<").to(e,{rotationX:360,z:50,color:"#00ff00",duration:1.5,ease:"back.inOut(1.7)"}).to(t,{rotationY:360,z:50,color:"#ff00ff",duration:1.5,ease:"back.inOut(1.7)"},"<").to([e,t],{rotation:"+=360",color:"#ffffff",duration:1,ease:"power2.inOut"}).to([e,t],{opacity:0,duration:1,ease:"power1.inOut"}).to([e,t],{rotation:0,x:0,y:0,z:0,scale:1,opacity:1,duration:.5,ease:"power1.inOut"})},startGreetingUpdates(){const e=new Worker(new URL(n.p+n.u(183),n.b),{type:void 0});e.onmessage=e=>{console.log("Greeting received:",e.data),this.greeting=e.data},e.postMessage("start"),this.greetingInterval=setInterval((()=>{e.postMessage("start")}),2500)}}};const _=(0,l.A)(F,[["render",U],["__scopeId","data-v-29518758"]]);var X=_;const R={class:"loading-container",role:"presentation"},B={id:"loading-content"},W={ref:"urbanText",class:"urban-text"},$=(0,o.Fv)('<span class="urban-letter">U</span><span class="urban-letter">r</span><span class="urban-letter">b</span><span class="urban-letter">a</span><span class="urban-letter">n</span>',5),V=[$],P={ref:"chroniclesText",class:"chronicles-text"},z=(0,o.Fv)('<span class="chronicles-letter">C</span><span class="chronicles-letter">h</span><span class="chronicles-letter">r</span><span class="chronicles-letter">o</span><span class="chronicles-letter">n</span><span class="chronicles-letter">i</span><span class="chronicles-letter">c</span><span class="chronicles-letter">l</span><span class="chronicles-letter">e</span><span class="chronicles-letter">s</span>',10),Q=[z],Z={ref:"backgroundImage",class:"background-image",role:"img","aria-label":"Decorative background image"};function j(e,t,n,i,r,a){return(0,o.uX)(),(0,o.CE)("div",R,[(0,o.Lk)("div",B,[(0,o.Lk)("div",W,V,512),(0,o.Lk)("div",P,Q,512)]),(0,o.Lk)("div",Z,null,512)])}var N={name:"LoadingAnimation",mounted(){const e=this.$refs.urbanText,t=e.querySelectorAll(".urban-letter"),n=this.$refs.chroniclesText,i=n.querySelectorAll(".chronicles-letter"),o=this.$refs.backgroundImage,r=O.os.timeline();r.fromTo(t,{opacity:0,y:20,color:"white"},{opacity:1,y:0,color:"white",stagger:.1,duration:1}),r.fromTo(i,{opacity:0,y:20,color:"white"},{opacity:1,y:0,color:"white",stagger:.1,duration:1},"-=0.5"),r.to(o,{opacity:1,duration:3,ease:"power1.inOut"}),r.to(t,{textShadow:"1px 1px 20px black",color:"#00ff00",duration:1,delay:1.5,stagger:.1},"-=2.5"),r.to(i,{textShadow:"1px 1px 20px black",color:"#ff00ff",duration:1,delay:1.5,stagger:.1},"-=2.5")}};const q=(0,l.A)(N,[["render",j]]);var D=q,G={name:"App",components:{NavigationBar:w,LoadingAnimation:X,MainPage:D},data(){return{isLoading:!0}},mounted(){this.startWorker()},methods:{startWorker(){const e=new Worker(new URL(n.p+n.u(749),n.b),{type:void 0});e.onmessage=e=>{e.data.done&&(this.isLoading=!1)},e.postMessage("start")}}};const H=(0,l.A)(G,[["render",h]]);var Y=H;function K(e,t,n,i,r,a){const s=(0,o.g2)("NavigationBar"),l=(0,o.g2)("OpenLayers");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(s),(0,o.bF)(l)])}const J={class:"full-container"},ee={ref:"mapContainer",class:"map-container"},te={key:1,class:"sidebar"},ne=["href","onClick"],ie=["href"],oe={key:3,class:"error-box"};function re(e,t,n,i,r,a){const s=(0,o.g2)("LoadingAnimation");return(0,o.uX)(),(0,o.CE)("div",J,[r.loading?((0,o.uX)(),(0,o.Wv)(s,{key:0})):(0,o.Q3)("",!0),(0,o.Lk)("button",{class:"toggle-button",onClick:t[0]||(t[0]=(...e)=>a.toggleSidebar&&a.toggleSidebar(...e))},(0,C.v_)(r.isSidebarVisible?"All Wikipedia Links":"Close"),1),(0,o.Lk)("div",ee,null,512),r.isSidebarVisible?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",te,[(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.cities,(e=>((0,o.uX)(),(0,o.CE)("li",{key:e.name},[(0,o.Lk)("a",{href:a.formatWikipediaUrl(e.wikipedia),target:"_blank",rel:"noopener noreferrer",onClick:t=>a.trackSidebarLinkClick(e.wikipedia)},(0,C.v_)(e.name),9,ne)])))),128))])])),r.selectedCity?((0,o.uX)(),(0,o.CE)("div",{key:2,class:"info-box",style:(0,C.Tr)({top:r.infoBoxPosition.top+"px",left:r.infoBoxPosition.left+"px"})},[(0,o.Lk)("h3",null,(0,C.v_)(r.selectedCity.name),1),(0,o.Lk)("p",null,[(0,o.Lk)("a",{href:r.selectedCity.wikipedia,target:"_blank",rel:"noopener noreferrer",onClick:t[1]||(t[1]=e=>a.trackSidebarLinkClick(r.selectedCity.wikipedia))}," Wikipedia Link ",8,ie)])],4)):(0,o.Q3)("",!0),r.error?((0,o.uX)(),(0,o.CE)("div",oe,[(0,o.Lk)("p",null,(0,C.v_)(r.error),1)])):(0,o.Q3)("",!0)])}n(2488);var ae=n(2506),se=n(8699),le=n(4336),ce=n(1242),de=n(631),ue=n(9073),pe=n(6505),he=n(2375),fe=n(856),ge=n(8225),me=n(8075),ve=n(7425),ke=n(2535);const be=new URL(n(6453),n.b);var ye={components:{LoadingAnimation:X},data(){return{map:null,cityLayer:null,selectedCity:null,infoBoxPosition:{top:0,left:0},worker:null,error:null,isSidebarVisible:!0,cities:[],loading:!0,isMapIdle:!0,mapIdleTimeout:null,zoomChangeTimeout:null,isZooming:!1}},mounted(){this.initializeMap(),this.initializeWorker()},beforeUnmount(){this.worker&&this.worker.terminate()},methods:{formatWikipediaUrl(e){return!e||e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`},trackEvent(e,t,n=""){this.$gtag?this.$gtag.event(t,{event_category:e,event_label:n}):console.warn("Google Analytics not available. Event not tracked.")},trackSidebarLinkClick(e){this.trackEvent("Sidebar Interaction","Click Link",`${e}`)},initializeWorker(){window.Worker?(this.worker=new Worker(be,{type:"module"}),this.worker.onmessage=e=>{const t=e.data;if(t.error)return this.error=t.error,console.error(t.error),void this.trackEvent("Worker Interaction","Error",t.error);this.processCities(t),this.loading=!1},this.worker.postMessage({username:"hebbrechtarne"})):console.error("Web Workers are not supported in this browser.")},processCities(e){this.cities=e;const t=e.map((e=>{let t=e.wikipedia;return t&&!t.startsWith("http")&&(t=`https://${t}`),new fe.A({geometry:new ge.A((0,me.Rb)([e.lng,e.lat])),name:e.name,wikipedia:t,info:`${e.name}, ${e.adminName1}, ${e.countryName}`})})),n=new ue.A({features:t});this.cityLayer&&this.map.removeLayer(this.cityLayer),this.cityLayer=new ce.A({source:n,style:new pe.Ay({image:new he.A({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:"https://openlayers.org/en/latest/examples/data/icon.png",scale:1})})}),this.map.addLayer(this.cityLayer);const i=new ve.A({condition:ke.jM,style:new pe.Ay({image:new he.A({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:"https://openlayers.org/en/latest/examples/data/icon.png",scale:1})})});this.map.addInteraction(i),i.on("select",(e=>{if(e.selected.length>0){const t=e.selected[0];this.selectedCity={name:t.get("name"),wikipedia:t.get("wikipedia"),info:t.get("info")},this.updateInfoBoxPosition(e.mapBrowserEvent.pixel),this.trackEvent("Map Interaction","Select City",t.get("name"))}else this.selectedCity=null}))},initializeMap(){this.map=new ae.A({target:this.$refs.mapContainer,layers:[new le.A({source:new de.A})],view:new se.Ay({center:(0,me.Rb)([4.5,50.5]),zoom:7})});const e=this.map.getView();e.on("change:center",this.debounceOrThrottleMapMove),e.on("change:resolution",this.debounceOrThrottleZoomChange)},debounceOrThrottleMapMove(){this.isZooming||(this.mapIdleTimeout&&clearTimeout(this.mapIdleTimeout),this.mapIdleTimeout=setTimeout((()=>{this.isMapIdle=!0,this.handleMapMove()}),300))},debounceOrThrottleZoomChange(){this.zoomChangeTimeout&&clearTimeout(this.zoomChangeTimeout),this.zoomChangeTimeout=setTimeout((()=>{this.handleZoomChange()}),300)},handleMapMove(){if(this.isMapIdle){const e=this.map.getView().getCenter(),[t,n]=(0,me.WP)(e);this.trackEvent("Map Interaction","Map Moved",`Longitude: ${t.toFixed(6)}, Latitude: ${n.toFixed(6)}`),this.isMapIdle=!1}},handleZoomChange(){if(!this.isZooming){this.isZooming=!0;const e=this.map.getView().getZoom();this.trackEvent("Map Interaction","Zoom Changed",`Zoom Level: ${e}`),this.isZooming=!1}},updateInfoBoxPosition(e){const t=this.$refs.mapContainer,n=t.getBoundingClientRect();this.infoBoxPosition={top:e[1]+n.top,left:e[0]+n.left+10},this.selectedCity&&this.trackEvent("Info Box","Display",this.selectedCity.name)},toggleSidebar(){this.isSidebarVisible=!this.isSidebarVisible}}};const Le=(0,l.A)(ye,[["render",re],["__scopeId","data-v-55709fd0"]]);var we=Le,Ce={name:"MapView",components:{NavigationBar:w,OpenLayers:we}};const xe=(0,l.A)(Ce,[["render",K]]);var Se=xe;const Ae={id:"app"};function Ie(e,t,n,i,r,a){const s=(0,o.g2)("NavigationBar"),l=(0,o.g2)("RssFeedLink"),c=(0,o.g2)("BlogFeed");return(0,o.uX)(),(0,o.CE)("div",Ae,[(0,o.bF)(s),(0,o.bF)(l),(0,o.bF)(c)])}function Me(e,t,n,i,r,a){return(0,o.uX)(),(0,o.CE)("div")}var Ee={data(){return{feedUrl:""}},mounted(){const e=window.location.origin;this.feedUrl=`${e}/rss-feed.xml`;const t=document.createElement("link");t.rel="alternate",t.type="application/rss+xml",t.title="RSS Feed",t.href=this.feedUrl,document.head.appendChild(t)},beforeUnmount(){const e=document.querySelector('link[rel="alternate"][type="application/rss+xml"]');e&&document.head.removeChild(e)}};const Te=(0,l.A)(Ee,[["render",Me]]);var Ue=Te;const Oe=e=>((0,o.Qi)("data-v-3ce321f0"),e=e(),(0,o.jt)(),e),Fe={key:1,class:"container"},_e=Oe((()=>(0,o.Lk)("h1",{class:"title"},"Wat have i learned",-1))),Xe={class:"content-wrapper"},Re={class:"RSS-Feed"},Be={class:"feed-list"},We={class:"feed-description"},$e={class:"feed-description"},Ve=["href"],Pe={class:"sidebar"},ze={class:"buttons"},Qe={key:0,class:"notification"},Ze=Oe((()=>(0,o.Lk)("p",null,"To subscribe to this feed, paste the copied URL into your RSS reader.",-1))),je=[Ze];function Ne(e,t,n,i,r,a){const s=(0,o.g2)("LoadingAnimation");return(0,o.uX)(),(0,o.CE)(o.FK,null,[r.loading?((0,o.uX)(),(0,o.Wv)(s,{key:0})):(0,o.Q3)("",!0),r.loading?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Fe,[_e,(0,o.Lk)("div",Xe,[(0,o.Lk)("div",Re,[(0,o.Lk)("ul",Be,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.feedItems,(e=>((0,o.uX)(),(0,o.CE)("li",{key:e.link,class:"feed-item"},[(0,o.Lk)("h2",We,(0,C.v_)(e.title),1),(0,o.Lk)("p",$e,(0,C.v_)(e.description),1),(0,o.Lk)("a",{href:e.link,class:"feed-link"},(0,C.v_)(e.link),9,Ve)])))),128))])]),(0,o.Lk)("div",Pe,[(0,o.Lk)("div",ze,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>a.copyFeedUrl&&a.copyFeedUrl(...e)),class:"button button-copy"}," Copy RSS Feed URL "),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>a.notifySubscription&&a.notifySubscription(...e)),class:"button button-notify"}," How to Subscribe ")]),r.notificationVisible?((0,o.uX)(),(0,o.CE)("div",Qe,je)):(0,o.Q3)("",!0)])])]))],64)}var qe={components:{LoadingAnimation:X},data(){return{feedItems:[],notificationVisible:!1,feedUrl:"",loading:!0}},async mounted(){const e=document.querySelector('link[rel="alternate"][type="application/rss+xml"]');e?this.feedUrl=e.href:console.error("RSS feed <link> element not found.");try{const e=await fetch(this.feedUrl),t=await e.text(),n=new DOMParser,i=n.parseFromString(t,"application/xml"),o=Array.from(i.querySelectorAll("item"));this.feedItems=o.map((e=>({title:e.querySelector("title").textContent,link:e.querySelector("link").textContent,description:e.querySelector("description").textContent})))}catch(t){console.error("Error fetching or parsing RSS feed:",t)}finally{this.loading=!1}},methods:{copyFeedUrl(){this.feedUrl?navigator.clipboard.writeText(this.feedUrl).then((()=>{alert("RSS feed URL copied to clipboard. Paste it into your RSS reader.")})).catch((e=>{console.error("Failed to copy RSS feed URL: ",e)})):console.error("Feed URL is not set.")},notifySubscription(){this.notificationVisible=!0,setTimeout((()=>{this.notificationVisible=!1}),5e3)}}};const De=(0,l.A)(qe,[["render",Ne],["__scopeId","data-v-3ce321f0"]]);var Ge=De,He={name:"App",components:{RssFeedLink:Ue,NavigationBar:w,BlogFeed:Ge}};const Ye=(0,l.A)(He,[["render",Ie]]);var Ke=Ye;const Je=[{path:"/",name:"Home",component:Y},{path:"/Map",name:"Map",component:Se},{path:"/Blog",name:"Blog",component:Ke}],et=(0,u.aE)({history:(0,u.LA)("/"),routes:Je,scrollBehavior(){document.getElementById("app").scrollIntoView()}});var tt=et,nt=n(1390),it=n(758);const ot=(0,i.Ef)(d);ot.use(nt.Ay,{id:"GTM-M85V9HMH",vueRouter:tt}),ot.use(it.Ay,{property:{id:"G-QYPTTM8R73"}},tt),ot.use(tt).mount("#app")},6453:function(e,t,n){e.exports=n.p+"a8b93e9d2168cdf7.js"}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,i,o,r){if(!i){var a=1/0;for(d=0;d<e.length;d++){i=e[d][0],o=e[d][1],r=e[d][2];for(var s=!0,l=0;l<i.length;l++)(!1&r||a>=r)&&Object.keys(n.O).every((function(e){return n.O[e](i[l])}))?i.splice(l--,1):(s=!1,r<a&&(a=r));if(s){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[i,o,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.u=function(e){return"js/"+e+"."+{183:"d094c856",749:"c845547d"}[e]+".js"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/"}(),function(){n.b=document.baseURI||self.location.href;var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,r,a=i[0],s=i[1],l=i[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)var d=l(n)}for(t&&t(i);c<a.length;c++)r=a[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},i=self["webpackChunkweb_topics2023_2024_ep3"]=self["webpackChunkweb_topics2023_2024_ep3"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[504],(function(){return n(3545)}));i=n.O(i)})();
//# sourceMappingURL=app.ec5497c1.js.map