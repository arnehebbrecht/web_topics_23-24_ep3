(function(){"use strict";var e={768:function(e,t,i){var n=i(5130),a=i(6768);const o={id:"app"};function r(e,t,i,n,r,s){const l=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(l)])}var s={name:"App"},l=i(1241);const c=(0,l.A)(s,[["render",r]]);var d=c,u=i(1387);const p={id:"app"};function h(e,t,i,n,o,r){const s=(0,a.g2)("LoadingAnimation"),l=(0,a.g2)("NavigationBar"),c=(0,a.g2)("MainPage");return(0,a.uX)(),(0,a.CE)("div",p,[o.isLoading?((0,a.uX)(),(0,a.Wv)(s,{key:0})):(0,a.Q3)("",!0),(0,a.bF)(l),o.isLoading?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(c,{key:1}))])}i(4603),i(7566),i(8721);const f={class:"navbar","aria-label":"Main navigation"},g={class:"nav-list"},m={class:"nav-item"},v={class:"nav-item"},k={class:"nav-item"};function b(e,t,i,o,r,s){return(0,a.uX)(),(0,a.CE)("nav",f,[(0,a.Lk)("ul",g,[(0,a.Lk)("li",m,[(0,a.Lk)("a",{href:"/",onClick:t[0]||(t[0]=(0,n.D$)((e=>o.navigateTo("/")),["prevent"]))},"Home")]),(0,a.Lk)("li",v,[(0,a.Lk)("a",{href:"/Map",onClick:t[1]||(t[1]=(0,n.D$)((e=>o.navigateTo("/Map")),["prevent"]))},"Map")]),(0,a.Lk)("li",k,[(0,a.Lk)("a",{href:"/Blog",onClick:t[2]||(t[2]=(0,n.D$)((e=>o.navigateTo("/Blog")),["prevent"]))},"Blog")])])])}i(4114);var y={name:"NavigationBar",setup(){const e=(0,u.rd)(),t=t=>{e.push(t)};return{navigateTo:t}}};const L=(0,l.A)(y,[["render",b],["__scopeId","data-v-6931d973"]]);var w=L,C=i(4232);const x={class:"loading-container",role:"status","aria-live":"polite","aria-labelledby":"loading-message"},S={id:"loading-content"},A={ref:"initialText",class:"loading-text",id:"loading-message"},M={class:"letter-container"},I={ref:"uLetter",class:"letter","aria-hidden":"true"},E={ref:"sLetter",class:"letter","aria-hidden":"true"},T={key:0,class:"greeting-text",role:"alert"};function U(e,t,i,n,o,r){return(0,a.uX)(),(0,a.CE)("div",x,[(0,a.Lk)("div",S,[(0,a.Lk)("div",A,[(0,a.Lk)("div",M,[(0,a.Lk)("div",I,"U",512),(0,a.Lk)("div",E,"C",512)]),o.greeting?((0,a.uX)(),(0,a.CE)("div",T,(0,C.v_)(o.greeting),1)):(0,a.Q3)("",!0)],512)])])}var F=i(4968),O={name:"LoadingAnimation",data(){return{greeting:"",greetingInterval:null}},mounted(){this.startAnimation(),this.startGreetingUpdates()},beforeUnmount(){this.greetingInterval&&clearInterval(this.greetingInterval)},methods:{startAnimation(){console.log("Starting animation"),this.tl=F.os.timeline({repeat:-1,repeatDelay:1});const e=this.$refs.uLetter,t=this.$refs.sLetter;this.tl.to([e,t],{delay:.25,rotation:360,scale:1.5,duration:1,ease:"power2.inOut"}).to([e,t],{scale:1,duration:.5,ease:"power2.inOut"},"<").to(e,{x:-100,color:"#00ff00",duration:1,ease:"power2.inOut"}).to(t,{x:115,color:"#ff00ff",duration:1,ease:"power2.inOut"},"<").to([e,t],{x:0,z:0,color:"#ffffff",duration:1,ease:"power2.inOut"}).to(e,{rotation:180,duration:1,ease:"elastic"}).to(t,{rotation:-180,duration:1,ease:"elastic"},"<").to(e,{rotationX:360,z:50,color:"#00ff00",duration:1.5,ease:"back.inOut(1.7)"}).to(t,{rotationY:360,z:50,color:"#ff00ff",duration:1.5,ease:"back.inOut(1.7)"},"<").to([e,t],{rotation:"+=360",color:"#ffffff",duration:1,ease:"power2.inOut"}).to([e,t],{opacity:0,duration:1,ease:"power1.inOut"}).to([e,t],{rotation:0,x:0,y:0,z:0,scale:1,opacity:1,duration:.5,ease:"power1.inOut"})},startGreetingUpdates(){const e=new Worker(new URL(i.p+i.u(183),i.b),{type:void 0});e.onmessage=e=>{console.log("Greeting received:",e.data),this.greeting=e.data},e.postMessage("start"),this.greetingInterval=setInterval((()=>{e.postMessage("start")}),2500)}}};const _=(0,l.A)(O,[["render",U],["__scopeId","data-v-10bde2fe"]]);var R=_;const X={class:"loading-container",role:"presentation"},B=(0,a.Lk)("a",{href:"#main-content",class:"skip-link"},"Skip to main content",-1),W={id:"loading-content","aria-live":"polite","aria-atomic":"true"},$={ref:"urbanText",class:"urban-text",role:"heading","aria-level":"1"},V=(0,a.Fv)('<span class="urban-letter" aria-hidden="true">U</span><span class="urban-letter" aria-hidden="true">r</span><span class="urban-letter" aria-hidden="true">b</span><span class="urban-letter" aria-hidden="true">a</span><span class="urban-letter" aria-hidden="true">n</span>',5),P=[V],z={ref:"chroniclesText",class:"chronicles-text",role:"heading","aria-level":"2"},Q=(0,a.Fv)('<span class="chronicles-letter" aria-hidden="true">C</span><span class="chronicles-letter" aria-hidden="true">h</span><span class="chronicles-letter" aria-hidden="true">r</span><span class="chronicles-letter" aria-hidden="true">o</span><span class="chronicles-letter" aria-hidden="true">n</span><span class="chronicles-letter" aria-hidden="true">i</span><span class="chronicles-letter" aria-hidden="true">c</span><span class="chronicles-letter" aria-hidden="true">l</span><span class="chronicles-letter" aria-hidden="true">e</span><span class="chronicles-letter" aria-hidden="true">s</span>',10),Z=[Q],j={ref:"backgroundImage",class:"background-image",role:"img","aria-label":"Decorative background image"},N=(0,a.Lk)("div",{id:"main-content",tabindex:"-1"},null,-1);function q(e,t,i,n,o,r){return(0,a.uX)(),(0,a.CE)("div",X,[B,(0,a.Lk)("div",W,[(0,a.Lk)("div",$,P,512),(0,a.Lk)("div",z,Z,512)]),(0,a.Lk)("div",j,null,512),N])}var D={name:"LoadingAnimation",mounted(){const e=this.$refs.urbanText,t=e.querySelectorAll(".urban-letter"),i=this.$refs.chroniclesText,n=i.querySelectorAll(".chronicles-letter"),a=this.$refs.backgroundImage,o=F.os.timeline();o.fromTo(t,{opacity:0,y:20,color:"white"},{opacity:1,y:0,color:"white",stagger:.1,duration:1}),o.fromTo(n,{opacity:0,y:20,color:"white"},{opacity:1,y:0,color:"white",stagger:.1,duration:1},"-=0.5"),o.to(a,{opacity:1,duration:3,ease:"power1.inOut"}),o.to(t,{textShadow:"1px 1px 20px black",color:"#00ff00",duration:1,delay:1.5,stagger:.1},"-=2.5"),o.to(n,{textShadow:"1px 1px 20px black",color:"#ff00ff",duration:1,delay:1.5,stagger:.1},"-=2.5")}};const H=(0,l.A)(D,[["render",q]]);var G=H,Y={name:"App",components:{NavigationBar:w,LoadingAnimation:R,MainPage:G},data(){return{isLoading:!0}},mounted(){this.startWorker()},methods:{startWorker(){const e=new Worker(new URL(i.p+i.u(749),i.b),{type:void 0});e.onmessage=e=>{e.data.done&&(this.isLoading=!1)},e.postMessage("start")}}};const K=(0,l.A)(Y,[["render",h]]);var J=K;function ee(e,t,i,n,o,r){const s=(0,a.g2)("NavigationBar"),l=(0,a.g2)("OpenLayers");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(s),(0,a.bF)(l)])}const te={class:"full-container"},ie={ref:"mapContainer",class:"map-container",role:"region","aria-label":"Map"},ne={key:1,class:"sidebar",id:"sidebar",role:"complementary","aria-hidden":"true"},ae=["href","onClick"],oe={id:"info-box-title"},re={id:"info-box-description"},se=["href"],le={key:3,class:"error-box",role:"alert","aria-live":"assertive"};function ce(e,t,i,n,o,r){const s=(0,a.g2)("LoadingAnimation");return(0,a.uX)(),(0,a.CE)("div",te,[o.loading?((0,a.uX)(),(0,a.Wv)(s,{key:0})):(0,a.Q3)("",!0),(0,a.Lk)("button",{class:"toggle-button",onClick:t[0]||(t[0]=(...e)=>r.toggleSidebar&&r.toggleSidebar(...e)),"aria-expanded":"true","aria-controls":"sidebar"},(0,C.v_)(o.isSidebarVisible?"All Wikipedia Links":"Close"),1),(0,a.Lk)("div",ie,null,512),o.isSidebarVisible?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("aside",ne,[(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.cities,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e.name},[(0,a.Lk)("a",{href:r.formatWikipediaUrl(e.wikipedia),target:"_blank",rel:"noopener noreferrer",onClick:t=>r.trackSidebarLinkClick(e.wikipedia),role:"link"},(0,C.v_)(e.name),9,ae)])))),128))])])),o.selectedCity?((0,a.uX)(),(0,a.CE)("div",{key:2,class:"info-box",style:(0,C.Tr)({top:o.infoBoxPosition.top+"px",left:o.infoBoxPosition.left+"px"}),role:"dialog","aria-labelledby":"info-box-title","aria-describedby":"info-box-description"},[(0,a.Lk)("h3",oe,(0,C.v_)(o.selectedCity.name),1),(0,a.Lk)("p",re,[(0,a.Lk)("a",{href:o.selectedCity.wikipedia,target:"_blank",rel:"noopener noreferrer",onClick:t[1]||(t[1]=e=>r.trackSidebarLinkClick(o.selectedCity.wikipedia))}," Wikipedia Link ",8,se)])],4)):(0,a.Q3)("",!0),o.error?((0,a.uX)(),(0,a.CE)("div",le,[(0,a.Lk)("p",null,(0,C.v_)(o.error),1)])):(0,a.Q3)("",!0)])}i(2488);var de=i(2506),ue=i(8699),pe=i(4336),he=i(1242),fe=i(631),ge=i(9073),me=i(6505),ve=i(2375),ke=i(856),be=i(8225),ye=i(8075),Le=i(7425),we=i(2535);const Ce=new URL(i(6453),i.b);var xe={components:{LoadingAnimation:R},data(){return{map:null,cityLayer:null,selectedCity:null,infoBoxPosition:{top:0,left:0},worker:null,error:null,isSidebarVisible:!0,cities:[],loading:!0,isMapIdle:!0,mapIdleTimeout:null,zoomChangeTimeout:null,isZooming:!1}},mounted(){this.initializeMap(),this.initializeWorker()},beforeUnmount(){this.worker&&this.worker.terminate()},methods:{formatWikipediaUrl(e){return!e||e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`},trackEvent(e,t,i=""){this.$gtag?this.$gtag.event(t,{event_category:e,event_label:i}):console.warn("Google Analytics not available. Event not tracked.")},trackSidebarLinkClick(e){this.trackEvent("Sidebar Interaction","Click Link",`${e}`)},initializeWorker(){window.Worker?(this.worker=new Worker(Ce,{type:"module"}),this.worker.onmessage=e=>{const t=e.data;if(t.error)return this.error=t.error,console.error(t.error),void this.trackEvent("Worker Interaction","Error",t.error);this.processCities(t),this.loading=!1},this.worker.postMessage({username:"hebbrechtarne"})):console.error("Web Workers are not supported in this browser.")},processCities(e){this.cities=e;const t=e.map((e=>{let t=e.wikipedia;return t&&!t.startsWith("http")&&(t=`https://${t}`),new ke.A({geometry:new be.A((0,ye.Rb)([e.lng,e.lat])),name:e.name,wikipedia:t,info:`${e.name}, ${e.adminName1}, ${e.countryName}`})})),i=new ge.A({features:t});this.cityLayer&&this.map.removeLayer(this.cityLayer),this.cityLayer=new he.A({source:i,style:new me.Ay({image:new ve.A({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:"https://openlayers.org/en/latest/examples/data/icon.png",scale:1})})}),this.map.addLayer(this.cityLayer);const n=new Le.A({condition:we.jM,style:new me.Ay({image:new ve.A({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:"https://openlayers.org/en/latest/examples/data/icon.png",scale:1})})});this.map.addInteraction(n),n.on("select",(e=>{if(e.selected.length>0){const t=e.selected[0];this.selectedCity={name:t.get("name"),wikipedia:t.get("wikipedia"),info:t.get("info")},this.updateInfoBoxPosition(e.mapBrowserEvent.pixel),this.trackEvent("Map Interaction","Select City",t.get("name"))}else this.selectedCity=null}))},initializeMap(){this.map=new de.A({target:this.$refs.mapContainer,layers:[new pe.A({source:new fe.A})],view:new ue.Ay({center:(0,ye.Rb)([4.5,50.5]),zoom:7})});const e=this.map.getView();e.on("change:center",this.debounceOrThrottleMapMove),e.on("change:resolution",this.debounceOrThrottleZoomChange)},debounceOrThrottleMapMove(){this.isZooming||(this.mapIdleTimeout&&clearTimeout(this.mapIdleTimeout),this.mapIdleTimeout=setTimeout((()=>{this.isMapIdle=!0,this.handleMapMove()}),300))},debounceOrThrottleZoomChange(){this.zoomChangeTimeout&&clearTimeout(this.zoomChangeTimeout),this.zoomChangeTimeout=setTimeout((()=>{this.handleZoomChange()}),300)},handleMapMove(){if(this.isMapIdle){const e=this.map.getView().getCenter(),[t,i]=(0,ye.WP)(e);this.trackEvent("Map Interaction","Map Moved",`Longitude: ${t.toFixed(6)}, Latitude: ${i.toFixed(6)}`),this.isMapIdle=!1}},handleZoomChange(){if(!this.isZooming){this.isZooming=!0;const e=this.map.getView().getZoom();this.trackEvent("Map Interaction","Zoom Changed",`Zoom Level: ${e}`),this.isZooming=!1}},updateInfoBoxPosition(e){const t=this.$refs.mapContainer,i=t.getBoundingClientRect();this.infoBoxPosition={top:e[1]+i.top,left:e[0]+i.left+10},this.selectedCity&&this.trackEvent("Info Box","Display",this.selectedCity.name)},toggleSidebar(){this.isSidebarVisible=!this.isSidebarVisible}}};const Se=(0,l.A)(xe,[["render",ce],["__scopeId","data-v-5286383d"]]);var Ae=Se,Me={name:"MapView",components:{NavigationBar:w,OpenLayers:Ae}};const Ie=(0,l.A)(Me,[["render",ee]]);var Ee=Ie;const Te={id:"app"};function Ue(e,t,i,n,o,r){const s=(0,a.g2)("NavigationBar"),l=(0,a.g2)("RssFeedLink"),c=(0,a.g2)("BlogFeed");return(0,a.uX)(),(0,a.CE)("div",Te,[(0,a.bF)(s),(0,a.bF)(l),(0,a.bF)(c)])}function Fe(e,t,i,n,o,r){return(0,a.uX)(),(0,a.CE)("div")}var Oe={data(){return{feedUrl:""}},mounted(){const e=window.location.origin;this.feedUrl=`${e}/rss-feed.xml`;const t=document.createElement("link");t.rel="alternate",t.type="application/rss+xml",t.title="RSS Feed",t.href=this.feedUrl,document.head.appendChild(t)},beforeUnmount(){const e=document.querySelector('link[rel="alternate"][type="application/rss+xml"]');e&&document.head.removeChild(e)}};const _e=(0,l.A)(Oe,[["render",Fe]]);var Re=_e;const Xe=e=>((0,a.Qi)("data-v-0314d9f3"),e=e(),(0,a.jt)(),e),Be={key:1,class:"container"},We=Xe((()=>(0,a.Lk)("h1",{class:"title"},"What I Have Learned ?",-1))),$e={class:"content-wrapper"},Ve={class:"RSS-Feed","aria-labelledby":"feed-section"},Pe=Xe((()=>(0,a.Lk)("h2",{id:"feed-section",class:"visually-hidden"},"RSS Feed",-1))),ze={class:"feed-list","aria-live":"polite"},Qe={class:"feed-title"},Ze={class:"feed-description"},je=["href"],Ne={class:"sidebar"},qe={class:"buttons"},De={key:0,class:"notification",role:"alert"},He=Xe((()=>(0,a.Lk)("p",null,"To subscribe to this feed, paste the copied URL into your RSS reader.",-1))),Ge=[He];function Ye(e,t,i,n,o,r){const s=(0,a.g2)("LoadingAnimation");return(0,a.uX)(),(0,a.CE)(a.FK,null,[o.loading?((0,a.uX)(),(0,a.Wv)(s,{key:0})):(0,a.Q3)("",!0),o.loading?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",Be,[We,(0,a.Lk)("div",$e,[(0,a.Lk)("div",Ve,[Pe,(0,a.Lk)("ul",ze,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.feedItems,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e.link,class:"feed-item"},[(0,a.Lk)("h3",Qe,(0,C.v_)(e.title),1),(0,a.Lk)("p",Ze,(0,C.v_)(e.description),1),(0,a.Lk)("a",{href:e.link,class:"feed-link",target:"_blank",rel:"noopener noreferrer"},(0,C.v_)(e.link),9,je)])))),128))])]),(0,a.Lk)("div",Ne,[(0,a.Lk)("div",qe,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.copyFeedUrl&&r.copyFeedUrl(...e)),class:"button button-copy","aria-label":"Copy RSS Feed URL"}," Copy RSS Feed URL "),(0,a.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.notifySubscription&&r.notifySubscription(...e)),class:"button button-notify","aria-label":"How to Subscribe"}," How to Subscribe ")]),o.notificationVisible?((0,a.uX)(),(0,a.CE)("div",De,Ge)):(0,a.Q3)("",!0)])])]))],64)}var Ke={components:{LoadingAnimation:R},data(){return{feedItems:[],notificationVisible:!1,feedUrl:"",loading:!0}},async mounted(){const e=document.querySelector('link[rel="alternate"][type="application/rss+xml"]');e?this.feedUrl=e.href:console.error("RSS feed <link> element not found.");try{const e=await fetch(this.feedUrl),t=await e.text(),i=new DOMParser,n=i.parseFromString(t,"application/xml"),a=Array.from(n.querySelectorAll("item"));this.feedItems=a.map((e=>({title:e.querySelector("title").textContent,link:e.querySelector("link").textContent,description:e.querySelector("description").textContent})))}catch(t){console.error("Error fetching or parsing RSS feed:",t)}finally{this.loading=!1}},methods:{copyFeedUrl(){this.feedUrl?navigator.clipboard.writeText(this.feedUrl).then((()=>{alert("RSS feed URL copied to clipboard. Paste it into your RSS reader.")})).catch((e=>{console.error("Failed to copy RSS feed URL: ",e)})):console.error("Feed URL is not set.")},notifySubscription(){this.notificationVisible=!0,setTimeout((()=>{this.notificationVisible=!1}),5e3)}}};const Je=(0,l.A)(Ke,[["render",Ye],["__scopeId","data-v-0314d9f3"]]);var et=Je,tt={name:"App",components:{RssFeedLink:Re,NavigationBar:w,BlogFeed:et}};const it=(0,l.A)(tt,[["render",Ue]]);var nt=it;const at=[{path:"/",name:"Home",component:J},{path:"/Map",name:"Map",component:Ee},{path:"/Blog",name:"Blog",component:nt}],ot=(0,u.aE)({history:(0,u.LA)("/"),routes:at,scrollBehavior(){document.getElementById("app").scrollIntoView()}});var rt=ot,st=i(1390),lt=i(758);const ct=(0,n.Ef)(d);ct.use(st.Ay,{id:"GTM-M85V9HMH",vueRouter:rt}),ct.use(lt.Ay,{property:{id:"G-QYPTTM8R73"}},rt),ct.use(rt).mount("#app")},6453:function(e,t,i){e.exports=i.p+"a8b93e9d2168cdf7.js"}},t={};function i(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,i),o.exports}i.m=e,function(){var e=[];i.O=function(t,n,a,o){if(!n){var r=1/0;for(d=0;d<e.length;d++){n=e[d][0],a=e[d][1],o=e[d][2];for(var s=!0,l=0;l<n.length;l++)(!1&o||r>=o)&&Object.keys(i.O).every((function(e){return i.O[e](n[l])}))?n.splice(l--,1):(s=!1,o<r&&(r=o));if(s){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,a,o]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.u=function(e){return"js/"+e+"."+{183:"d094c856",749:"c845547d"}[e]+".js"}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.p="/"}(),function(){i.b=document.baseURI||self.location.href;var e={524:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,o,r=n[0],s=n[1],l=n[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(a in s)i.o(s,a)&&(i.m[a]=s[a]);if(l)var d=l(i)}for(t&&t(n);c<r.length;c++)o=r[c],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(d)},n=self["webpackChunkweb_topics2023_2024_ep3"]=self["webpackChunkweb_topics2023_2024_ep3"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[504],(function(){return i(768)}));n=i.O(n)})();
//# sourceMappingURL=app.124abb59.js.map